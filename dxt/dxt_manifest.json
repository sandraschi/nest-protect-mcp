{
  "name": "nest-protect-mcp",
  "version": "0.1.0",
  "display_name": "Nest Protect MCP",
  "description": "MCP server for monitoring and controlling Nest Protect smoke and CO detectors with FastMCP 2.12",
  "author": "Sandra Schi",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/sandraschi/nest-protect-mcp"
  },
  "categories": ["iot", "home-automation", "safety", "nest", "monitoring"],
  "keywords": ["nest", "protect", "smoke", "co", "detector", "alarm", "mcp", "fastmcp"],

  "server": {
    "command": ["python", "-m", "nest_protect_mcp.server"],
    "timeout": 30,
    "launch_delay": 10000,
    "port": 8080,
    "auto_start": true,
    "environment": {
      "PYTHONUNBUFFERED": "1"
    }
  },

  "dependencies": [
    {
      "name": "fastmcp",
      "version": "2.12.0"
    }
  ],

  "configuration": {
    "project_id": {
      "type": "string",
      "description": "Google Cloud Project ID for Nest API",
      "required": true
    },
    "client_id": {
      "type": "string",
      "description": "OAuth 2.0 Client ID for Nest API",
      "required": true
    },
    "client_secret": {
      "type": "string",
      "description": "OAuth 2.0 Client Secret for Nest API",
      "required": true,
      "secret": true
    },
    "refresh_token": {
      "type": "string",
      "description": "OAuth 2.0 Refresh Token for Nest API",
      "required": true,
      "secret": true
    },
    "update_interval": {
      "type": "integer",
      "description": "How often to check for device updates (in seconds)",
      "default": 60,
      "minimum": 10
    },
    "log_level": {
      "type": "string",
      "description": "Logging level",
      "enum": ["DEBUG", "INFO", "WARNING", "ERROR", "CRITICAL"],
      "default": "INFO"
    }
  },

  "prompts": [
    {
      "name": "device_status_overview",
      "description": "Get comprehensive overview of all Nest Protect devices",
      "template": "Show me the current status of all Nest Protect devices in my home. Include information about {details} for each device.",
      "parameters": {
        "details": {
          "type": "string",
          "description": "Specific details to include",
          "enum": ["battery levels", "alarm states", "connectivity", "environmental readings", "all details"],
          "default": "all details"
        }
      }
    },
    {
      "name": "alarm_check",
      "description": "Check for active alarms and their status",
      "template": "Are there any {alarm_type} alarms currently active? Show me {details} about {device_filter} devices.",
      "parameters": {
        "alarm_type": {
          "type": "string",
          "description": "Type of alarm to check",
          "enum": ["smoke", "carbon monoxide", "heat", "any"],
          "default": "any"
        },
        "details": {
          "type": "string",
          "description": "Level of detail to show",
          "enum": ["basic status", "full details", "troubleshooting info"],
          "default": "basic status"
        },
        "device_filter": {
          "type": "string",
          "description": "Which devices to check",
          "enum": ["all devices", "online devices", "specific device"],
          "default": "all devices"
        }
      }
    },
    {
      "name": "device_test",
      "description": "Run tests on Nest Protect devices",
      "template": "Run a {test_type} test on the {device_location} Nest Protect device. {test_instructions}",
      "parameters": {
        "test_type": {
          "type": "string",
          "description": "Type of test to run",
          "enum": ["manual", "smoke", "carbon monoxide", "heat", "battery", "connectivity"],
          "default": "manual"
        },
        "device_location": {
          "type": "string",
          "description": "Location or name of the device",
          "examples": ["living room", "bedroom", "kitchen", "hallway"]
        },
        "test_instructions": {
          "type": "string",
          "description": "Additional test instructions",
          "default": "Please ensure the area is clear before testing."
        }
      }
    },
    {
      "name": "alarm_control",
      "description": "Control alarm silencing and management",
      "template": "{action} the {alarm_type} alarm on the {device_location} Nest Protect {duration}. {reason}",
      "parameters": {
        "action": {
          "type": "string",
          "description": "Action to take",
          "enum": ["silence", "hush", "stop", "acknowledge"],
          "default": "silence"
        },
        "alarm_type": {
          "type": "string",
          "description": "Type of alarm",
          "enum": ["smoke", "carbon monoxide", "heat", "any active"],
          "default": "any active"
        },
        "device_location": {
          "type": "string",
          "description": "Location of the device",
          "examples": ["living room", "master bedroom", "kitchen"]
        },
        "duration": {
          "type": "string",
          "description": "How long to silence",
          "enum": ["for 5 minutes", "for 10 minutes", "until manually reset", "permanently"],
          "default": "for 5 minutes"
        },
        "reason": {
          "type": "string",
          "description": "Reason for silencing",
          "default": "Testing or false alarm."
        }
      }
    },
    {
      "name": "battery_monitoring",
      "description": "Monitor and manage device battery levels",
      "template": "Show me the battery status of {device_filter} Nest Protect devices, sorted by {sort_criteria}. {alert_preferences}",
      "parameters": {
        "device_filter": {
          "type": "string",
          "description": "Which devices to check",
          "enum": ["all devices", "low battery devices", "critical battery devices", "specific device"],
          "default": "all devices"
        },
        "sort_criteria": {
          "type": "string",
          "description": "How to sort results",
          "enum": ["battery level (low to high)", "battery level (high to low)", "device name", "location"],
          "default": "battery level (low to high)"
        },
        "alert_preferences": {
          "type": "string",
          "description": "Battery alert preferences",
          "default": "Alert me when batteries need replacement."
        }
      }
    },
    {
      "name": "device_history",
      "description": "Get historical device events and activity",
      "template": "Show me {event_type} events for {device_name} from {time_range}. Include {detail_level} information.",
      "parameters": {
        "event_type": {
          "type": "string",
          "description": "Type of events to show",
          "enum": ["all events", "alarm events", "test events", "connectivity events", "battery events"],
          "default": "all events"
        },
        "device_name": {
          "type": "string",
          "description": "Name or location of the device",
          "examples": ["living room", "bedroom", "all devices"]
        },
        "time_range": {
          "type": "string",
          "description": "Time period to check",
          "enum": ["last hour", "last 24 hours", "last week", "last month", "custom range"],
          "default": "last 24 hours"
        },
        "detail_level": {
          "type": "string",
          "description": "Level of detail to include",
          "enum": ["summary", "detailed", "technical details"],
          "default": "summary"
        }
      }
    },
    {
      "name": "connectivity_status",
      "description": "Check device connectivity and network status",
      "template": "Which Nest Protect devices are currently {connection_status}? Show me {details} for {device_filter}.",
      "parameters": {
        "connection_status": {
          "type": "string",
          "description": "Connection status to check",
          "enum": ["online", "offline", "connecting", "unknown"],
          "default": "online"
        },
        "details": {
          "type": "string",
          "description": "Information to include",
          "enum": ["basic status", "network details", "troubleshooting info", "full diagnostics"],
          "default": "basic status"
        },
        "device_filter": {
          "type": "string",
          "description": "Which devices to check",
          "enum": ["all devices", "problem devices", "specific device"],
          "default": "all devices"
        }
      }
    },
    {
      "name": "environmental_monitoring",
      "description": "Monitor environmental conditions and sensor readings",
      "template": "What are the current {sensor_readings} from {device_filter}? Show {detail_level} information {time_period}.",
      "parameters": {
        "sensor_readings": {
          "type": "string",
          "description": "Which sensor readings to check",
          "enum": ["temperature", "humidity", "air quality", "all sensors"],
          "default": "all sensors"
        },
        "device_filter": {
          "type": "string",
          "description": "Which devices to check",
          "enum": ["all devices", "specific room", "specific device"],
          "default": "all devices"
        },
        "detail_level": {
          "type": "string",
          "description": "Level of detail to show",
          "enum": ["current readings", "trends", "historical data"],
          "default": "current readings"
        },
        "time_period": {
          "type": "string",
          "description": "Time period for readings",
          "enum": ["current", "last hour", "last 24 hours", "last week"],
          "default": "current"
        }
      }
    },
    {
      "name": "device_maintenance",
      "description": "Perform device maintenance and troubleshooting",
      "template": "{maintenance_action} the {device_location} Nest Protect. {maintenance_details} {troubleshooting_steps}",
      "parameters": {
        "maintenance_action": {
          "type": "string",
          "description": "Maintenance action to perform",
          "enum": ["clean", "reset", "restart", "calibrate", "diagnose"],
          "default": "diagnose"
        },
        "device_location": {
          "type": "string",
          "description": "Location of the device",
          "examples": ["living room", "bedroom", "kitchen"]
        },
        "maintenance_details": {
          "type": "string",
          "description": "Specific maintenance details",
          "default": "Perform standard maintenance procedures."
        },
        "troubleshooting_steps": {
          "type": "string",
          "description": "Troubleshooting guidance",
          "default": "If issues persist, check connectivity and power source."
        }
      }
    },
    {
      "name": "system_configuration",
      "description": "Configure system settings and preferences",
      "template": "{config_action} {setting_type} settings for {device_scope}. Set {setting_name} to {setting_value}. {additional_config}",
      "parameters": {
        "config_action": {
          "type": "string",
          "description": "Configuration action",
          "enum": ["configure", "update", "reset", "enable", "disable"],
          "default": "configure"
        },
        "setting_type": {
          "type": "string",
          "description": "Type of setting",
          "enum": ["notification", "automation", "monitoring", "alert", "integration"],
          "default": "notification"
        },
        "device_scope": {
          "type": "string",
          "description": "Scope of configuration",
          "enum": ["all devices", "specific device", "device group"],
          "default": "all devices"
        },
        "setting_name": {
          "type": "string",
          "description": "Name of the setting",
          "examples": ["email notifications", "push notifications", "automation rules"]
        },
        "setting_value": {
          "type": "string",
          "description": "Value for the setting",
          "examples": ["enabled", "disabled", "daily", "weekly"]
        },
        "additional_config": {
          "type": "string",
          "description": "Additional configuration details",
          "default": "Apply changes immediately."
        }
      }
    },
    {
      "name": "emergency_response",
      "description": "Handle emergency situations and alarms",
      "template": "{emergency_action} the {alarm_type} alarm emergency on {device_location}. {response_instructions} {contact_info}",
      "parameters": {
        "emergency_action": {
          "type": "string",
          "description": "Emergency response action",
          "enum": ["acknowledge", "escalate", "call emergency services", "evacuate"],
          "default": "acknowledge"
        },
        "alarm_type": {
          "type": "string",
          "description": "Type of emergency alarm",
          "enum": ["smoke alarm", "carbon monoxide alarm", "heat alarm", "multiple alarms"],
          "default": "smoke alarm"
        },
        "device_location": {
          "type": "string",
          "description": "Location of the alarm",
          "examples": ["living room", "bedroom", "kitchen", "entire house"]
        },
        "response_instructions": {
          "type": "string",
          "description": "Response instructions",
          "default": "Evacuate immediately and call emergency services."
        },
        "contact_info": {
          "type": "string",
          "description": "Emergency contact information",
          "default": "Call 911 or your local emergency number."
        }
      }
    },
    {
      "name": "device_information",
      "description": "Get detailed information about devices",
      "template": "Show me {information_type} information about the {device_location} Nest Protect. Include {detail_categories}.",
      "parameters": {
        "information_type": {
          "type": "string",
          "description": "Type of information to show",
          "enum": ["basic info", "technical specs", "installation details", "maintenance history"],
          "default": "basic info"
        },
        "device_location": {
          "type": "string",
          "description": "Location or name of the device",
          "examples": ["living room", "bedroom", "kitchen"]
        },
        "detail_categories": {
          "type": "string",
          "description": "Specific categories of details",
          "enum": ["hardware specs", "software version", "installation date", "warranty info", "all details"],
          "default": "all details"
        }
      }
    },
    {
      "name": "integration_setup",
      "description": "Set up integrations with other smart home systems",
      "template": "Set up integration with {integration_platform} for {device_scope}. Configure {integration_settings}. {integration_instructions}",
      "parameters": {
        "integration_platform": {
          "type": "string",
          "description": "Platform to integrate with",
          "enum": ["Home Assistant", "SmartThings", "Alexa", "Google Home", "IFTTT"],
          "default": "Home Assistant"
        },
        "device_scope": {
          "type": "string",
          "description": "Which devices to integrate",
          "enum": ["all devices", "specific device", "device group"],
          "default": "all devices"
        },
        "integration_settings": {
          "type": "string",
          "description": "Integration configuration settings",
          "default": "Enable notifications and automation."
        },
        "integration_instructions": {
          "type": "string",
          "description": "Setup instructions",
          "default": "Follow the platform's integration guide."
        }
      }
    },
    {
      "name": "performance_analysis",
      "description": "Analyze system performance and identify issues",
      "template": "Analyze the performance of {device_scope} Nest Protect devices. Check for {performance_metrics}. {analysis_period}",
      "parameters": {
        "device_scope": {
          "type": "string",
          "description": "Which devices to analyze",
          "enum": ["all devices", "specific device", "problem devices"],
          "default": "all devices"
        },
        "performance_metrics": {
          "type": "string",
          "description": "Performance metrics to check",
          "enum": ["response times", "connectivity stability", "sensor accuracy", "battery performance", "all metrics"],
          "default": "all metrics"
        },
        "analysis_period": {
          "type": "string",
          "description": "Time period for analysis",
          "enum": ["last hour", "last 24 hours", "last week", "last month"],
          "default": "last 24 hours"
        }
      }
    },
    {
      "name": "troubleshooting_assistance",
      "description": "Get help with device issues and troubleshooting",
      "template": "Help me troubleshoot {problem_type} with the {device_location} Nest Protect. {symptom_description} {attempted_solutions}",
      "parameters": {
        "problem_type": {
          "type": "string",
          "description": "Type of problem",
          "enum": ["connectivity issues", "false alarms", "sensor problems", "battery issues", "setup problems"],
          "default": "connectivity issues"
        },
        "device_location": {
          "type": "string",
          "description": "Location of the problematic device",
          "examples": ["living room", "bedroom", "kitchen"]
        },
        "symptom_description": {
          "type": "string",
          "description": "Description of the symptoms",
          "default": "Describe the specific issues you're experiencing."
        },
        "attempted_solutions": {
          "type": "string",
          "description": "Solutions already attempted",
          "default": "List any troubleshooting steps you've already tried."
        }
      }
    }
  ],

  "screenshots": [],
  "icon": "https://raw.githubusercontent.com/sandraschi/nest-protect-mcp/main/icon.png",
  "documentation": "https://github.com/sandraschi/nest-protect-mcp/blob/main/README.md"
}
